{"remainingRequest":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\babel-loader\\lib\\index.js!C:\\SSAFY\\git\\s03p23b304\\fe_chat\\src\\store\\index.js","dependencies":[{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\src\\store\\index.js","mtime":1600910340548},{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgQXV0aE1vZHVsZSBmcm9tICcuL0F1dGhNb2R1bGUnOwppbXBvcnQgQ2hhdE1vZHVsZSBmcm9tICcuL0NoYXRNb2R1bGUnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIG1vZHVsZXM6IHsKICAgIGF1dGg6IEF1dGhNb2R1bGUsCiAgICBjaGF0OiBDaGF0TW9kdWxlCiAgfSwKICBzdGF0ZTogewogICAgbG9hZGluZzogZmFsc2UsCiAgICBlcnJvcjogbnVsbCwKICAgIG9ubGluZVVzZXJzOiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5lcnJvciA9IHBheWxvYWQ7CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24gY2xlYXJFcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5lcnJvciA9IG51bGw7CiAgICB9LAogICAgc2V0T25saW5lVXNlcnM6IGZ1bmN0aW9uIHNldE9ubGluZVVzZXJzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLm9ubGluZVVzZXJzID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvYWRPbmxpbmVVc2VyczogZnVuY3Rpb24gbG9hZE9ubGluZVVzZXJzKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigncHJlc2VuY2UnKS5vbigndmFsdWUnLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgcmVzdWx0WzBdID0gc25hcHNob3QubnVtQ2hpbGRyZW4oKTsKICAgICAgICByZXN1bHRbMV0gPSBzbmFwc2hvdC52YWwoKTsKICAgICAgICBjb21taXQoJ3NldE9ubGluZVVzZXJzJywgcmVzdWx0KTsKICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24gY2xlYXJFcnJvcihfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ2NsZWFyRXJyb3InKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvYWRpbmc7CiAgICB9LAogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5lcnJvcjsKICAgIH0sCiAgICBvbmxpbmVVc2VyczogZnVuY3Rpb24gb25saW5lVXNlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm9ubGluZVVzZXJzOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["C:/SSAFY/git/s03p23b304/fe_chat/src/store/index.js"],"names":["Vue","Vuex","firebase","AuthModule","ChatModule","use","store","Store","modules","auth","chat","state","loading","error","onlineUsers","mutations","setLoading","payload","setError","clearError","setOnlineUsers","actions","loadOnlineUsers","commit","database","ref","on","snapshot","result","numChildren","val","getters"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,IAAR;AAEA,OAAO,IAAMK,KAAK,GAAG,IAAIL,IAAI,CAACM,KAAT,CAAe;AAClCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,IAAI,EAAEN,UADC;AAEPO,IAAAA,IAAI,EAAEN;AAFC,GADyB;AAKlCO,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,KADJ;AAELC,IAAAA,KAAK,EAAE,IAFF;AAGLC,IAAAA,WAAW,EAAE;AAHR,GAL2B;AAUlCC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UADS,sBACGL,KADH,EACUM,OADV,EACmB;AAC1BN,MAAAA,KAAK,CAACC,OAAN,GAAgBK,OAAhB;AACD,KAHQ;AAITC,IAAAA,QAJS,oBAICP,KAJD,EAIQM,OAJR,EAIiB;AACxBN,MAAAA,KAAK,CAACE,KAAN,GAAcI,OAAd;AACD,KANQ;AAOTE,IAAAA,UAPS,sBAOGR,KAPH,EAOU;AACjBA,MAAAA,KAAK,CAACE,KAAN,GAAc,IAAd;AACD,KATQ;AAUTO,IAAAA,cAVS,0BAUOT,KAVP,EAUcM,OAVd,EAUuB;AAC9BN,MAAAA,KAAK,CAACG,WAAN,GAAoBG,OAApB;AACD;AAZQ,GAVuB;AAwBlCI,EAAAA,OAAO,EAAE;AACPC,IAAAA,eADO,iCACoB;AAAA,UAATC,MAAS,QAATA,MAAS;AACzBrB,MAAAA,QAAQ,CAACsB,QAAT,GAAoBC,GAApB,CAAwB,UAAxB,EAAoCC,EAApC,CAAuC,OAAvC,EAAgD,UAAUC,QAAV,EAAoB;AAClE,YAAIC,MAAM,GAAG,EAAb;AACAA,QAAAA,MAAM,CAAC,CAAD,CAAN,GAAYD,QAAQ,CAACE,WAAT,EAAZ;AACAD,QAAAA,MAAM,CAAC,CAAD,CAAN,GAAYD,QAAQ,CAACG,GAAT,EAAZ;AACAP,QAAAA,MAAM,CAAC,gBAAD,EAAmBK,MAAnB,CAAN;AACD,OALD;AAMD,KARM;AASPT,IAAAA,UATO,6BASe;AAAA,UAATI,MAAS,SAATA,MAAS;AACpBA,MAAAA,MAAM,CAAC,YAAD,CAAN;AACD;AAXM,GAxByB;AAqClCQ,EAAAA,OAAO,EAAE;AACPnB,IAAAA,OADO,mBACED,KADF,EACS;AACd,aAAOA,KAAK,CAACC,OAAb;AACD,KAHM;AAIPC,IAAAA,KAJO,iBAIAF,KAJA,EAIO;AACZ,aAAOA,KAAK,CAACE,KAAb;AACD,KANM;AAOPC,IAAAA,WAPO,uBAOMH,KAPN,EAOa;AAClB,aAAOA,KAAK,CAACG,WAAb;AACD;AATM;AArCyB,CAAf,CAAd","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport * as firebase from 'firebase'\r\n\r\nimport AuthModule from './AuthModule'\r\nimport ChatModule from './ChatModule'\r\n\r\nVue.use(Vuex)\r\n\r\nexport const store = new Vuex.Store({\r\n  modules: {\r\n    auth: AuthModule,\r\n    chat: ChatModule\r\n  },\r\n  state: {\r\n    loading: false,\r\n    error: null,\r\n    onlineUsers: []\r\n  },\r\n  mutations: {\r\n    setLoading (state, payload) {\r\n      state.loading = payload\r\n    },\r\n    setError (state, payload) {\r\n      state.error = payload\r\n    },\r\n    clearError (state) {\r\n      state.error = null\r\n    },\r\n    setOnlineUsers (state, payload) {\r\n      state.onlineUsers = payload\r\n    }\r\n  },\r\n  actions: {\r\n    loadOnlineUsers ({commit}) {\r\n      firebase.database().ref('presence').on('value', function (snapshot) {\r\n        let result = []\r\n        result[0] = snapshot.numChildren()\r\n        result[1] = snapshot.val()\r\n        commit('setOnlineUsers', result)\r\n      })\r\n    },\r\n    clearError ({commit}) {\r\n      commit('clearError')\r\n    }\r\n  },\r\n  getters: {\r\n    loading (state) {\r\n      return state.loading\r\n    },\r\n    error (state) {\r\n      return state.error\r\n    },\r\n    onlineUsers (state) {\r\n      return state.onlineUsers\r\n    }\r\n  }\r\n})\r\n"]}]}