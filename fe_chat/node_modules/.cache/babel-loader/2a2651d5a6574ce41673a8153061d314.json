{"remainingRequest":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\babel-loader\\lib\\index.js!C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\vuetify-loader\\lib\\loader.js??ref--17-0!C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\SSAFY\\git\\s03p23b304\\fe_chat\\src\\components\\Chat\\Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\src\\components\\Chat\\Create.vue","mtime":1600910340540},{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\SSAFY\\git\\s03p23b304\\fe_chat\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXROYW1lOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcjogZnVuY3Rpb24gdXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMudXNlcjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZUNoYXQ6IGZ1bmN0aW9uIGNyZWF0ZUNoYXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jaGF0TmFtZSA9PSAnJyB8fCB0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7CiAgICAgIHZhciBuZXdQb3N0S2V5ID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS5jaGlsZCgnY2hhdHMnKS5wdXNoKCkua2V5OwogICAgICB2YXIgdXBkYXRlcyA9IHt9OwogICAgICB1cGRhdGVzWycvY2hhdHMvJyArIG5ld1Bvc3RLZXldID0gewogICAgICAgIG5hbWU6IHRoaXMuY2hhdE5hbWUKICAgICAgfTsKICAgICAgdXBkYXRlc1snL2NoYXRfbWVtYmVycy8nICsgbmV3UG9zdEtleSArICcvdXNlcnMvJyArIHRoaXMudXNlci5pZF0gPSB7CiAgICAgICAgdGltZXN0YW1wOiB0aW1lCiAgICAgIH07CiAgICAgIHVwZGF0ZXNbJ3VzZXJzLycgKyB0aGlzLnVzZXIuaWQgKyAnL2NoYXRzLycgKyBuZXdQb3N0S2V5XSA9IHsKICAgICAgICB0aW1lc3RhbXA6IHRpbWUKICAgICAgfTsKICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS51cGRhdGUodXBkYXRlcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9jaGF0LycgKyBuZXdQb3N0S2V5KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,KAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA;AACA;AAHA,GAPA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,UAAA,KAAA,QAAA,IAAA,EAAA,IAAA,KAAA,OAAA,EAAA;AACA;AACA;;AAEA,WAAA,OAAA,GAAA,IAAA;AAEA,UAAA,IAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,UAAA,GAAA,QAAA,CAAA,QAAA,GAAA,GAAA,GAAA,KAAA,CAAA,OAAA,EAAA,IAAA,GAAA,GAAA;AAEA,UAAA,OAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,YAAA,UAAA,CAAA,GAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,OAAA;AACA,MAAA,OAAA,CAAA,mBAAA,UAAA,GAAA,SAAA,GAAA,KAAA,IAAA,CAAA,EAAA,CAAA,GAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA;AACA,MAAA,OAAA,CAAA,WAAA,KAAA,IAAA,CAAA,EAAA,GAAA,SAAA,GAAA,UAAA,CAAA,GAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA;AACA,MAAA,QAAA,CAAA,QAAA,GAAA,GAAA,GAAA,MAAA,CAAA,OAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,WAAA,UAAA;AACA,OAHA;AAIA;AAnBA;AAZA,CAAA","sourcesContent":["<template>\r\n  <v-container fluid>\r\n    <v-row no-gutters>\r\n      <v-col sm=\"6\" xs=\"12\" offset-sm=\"3\">\r\n        <form @submit.prevent=\"createChat\">\r\n          <v-col xs=\"12\">\r\n            <v-text-field\r\n              name=\"chatname\"\r\n              label=\"Chat Name\"\r\n              id=\"chatname\"\r\n              v-model=\"chatName\"\r\n              type=\"text\"\r\n              required></v-text-field>\r\n            <v-btn type=\"submit\">Create</v-btn>\r\n          </v-col>\r\n        </form>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import * as firebase from 'firebase'\r\n\r\n  export default {\r\n    data () {\r\n      return {\r\n        chatName: '',\r\n        loading: false\r\n      }\r\n    },\r\n    computed: {\r\n      user () {\r\n        return this.$store.getters.user\r\n      },\r\n    },\r\n    methods: {\r\n      createChat () {\r\n        if (this.chatName == '' || this.loading) {\r\n          return\r\n        }\r\n\r\n        this.loading = true\r\n\r\n        let time = new Date().valueOf()\r\n        let newPostKey = firebase.database().ref().child('chats').push().key\r\n\r\n        let updates = {}\r\n        updates['/chats/' + newPostKey] = {name: this.chatName}\r\n        updates['/chat_members/' + newPostKey + '/users/' + this.user.id] = {timestamp: time}\r\n        updates['users/' + this.user.id + '/chats/' + newPostKey] = {timestamp: time}\r\n        firebase.database().ref().update(updates).then(() => {\r\n          this.loading = false\r\n          this.$router.push('/chat/' + newPostKey)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/components/Chat"}]}